exports.id=408,exports.ids=[408],exports.modules={449:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},4807:(e,t,r)=>{Promise.resolve().then(r.bind(r,303)),Promise.resolve().then(r.bind(r,1384))},303:(e,t,r)=>{"use strict";r.d(t,{AppProvider:()=>a,b:()=>d});var i=r(326),o=r(7577),n=r(4097);let s=(0,o.createContext)(void 0);function a({children:e}){let[t,r]=(0,o.useState)([]),[a,d]=(0,o.useState)([]),[u,c]=(0,o.useState)([]);return i.jsx(s.Provider,{value:{milestones:t,dcrs:a,folders:u,setMilestones:r,setDcrs:d,setFolders:c,addMilestone:e=>{r(t=>[...t,e])},addDCR:e=>{d(t=>[...t,e])},updateMilestone:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},updateDCR:(e,t)=>{d(r=>r.map(r=>r.id===e?{...r,...t}:r))},addDocumentToFolder:(e,t)=>{c(r=>r.map(r=>r.id===e?{...r,documents:[...r.documents,t]}:r))},removeDocumentFromFolder:(e,t)=>{c(r=>r.map(r=>r.id===e?{...r,documents:r.documents.filter(e=>e.id!==t)}:r))},getDocumentsForItem:(e,t)=>{let r=`${e}-${t}`,i=u.find(e=>e.id===r);return i?i.documents:[]}},children:i.jsx(n.C,{children:e})})}function d(){let e=(0,o.useContext)(s);if(void 0===e)throw Error("useAppContext must be used within an AppProvider");return e}},4097:(e,t,r)=>{"use strict";r.d(t,{C:()=>a,s:()=>d});var i=r(326),o=r(7577);let n=(0,o.createContext)(void 0),s=[{id:"formulaire-1111",nom:"Formulaire 1111",type:"formulaire",statut:"vide",ordre:1},{id:"payment-claim",nom:"Payment Claim",type:"formulaire",statut:"vide",ordre:2},{id:"facture-sap",nom:"Facture SAP",type:"import",statut:"vide",ordre:3},{id:"courriel-client",nom:"Courriel de confirmation du client",type:"import",statut:"vide",ordre:4},{id:"documents-annexes",nom:"Documents annexes",type:"import",statut:"vide",ordre:5}];function a({children:e}){let[t,r]=(0,o.useState)(s);return i.jsx(n.Provider,{value:{documents:t,updateDocument:(e,t)=>{r(r=>r.map(r=>r.id===e?{...r,...t}:r))},getNextAvailableDocument:()=>t.find(e=>"vide"===e.statut)||null,isDocumentAccessible:e=>1===e||t.filter(t=>t.ordre<e).every(e=>"complete"===e.statut),isAllDocumentsComplete:()=>t.every(e=>"complete"===e.statut),getDocumentById:e=>t.find(t=>t.id===e),resetAllDocuments:()=>{r(s.map(e=>({...e,statut:"vide",fichier:null,contenu:void 0,previewData:void 0})))}},children:e})}function d(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useDocuments must be used within a DocumentsProvider");return e}},1384:(e,t,r)=>{"use strict";r.d(t,{PriceSyncProvider:()=>a,S:()=>d});var i=r(326),o=r(7577);let n=(0,o.createContext)(void 0),s=[{id:"c228",name:"C-228 NLT1",milestones:[],dcrs:[],registers:[],formAmounts:[],taxRate:.15},{id:"c229",name:"C-229 NLT2",milestones:[],dcrs:[],registers:[],formAmounts:[],taxRate:.15},{id:"c230",name:"C-230 NLT3",milestones:[],dcrs:[],registers:[],formAmounts:[],taxRate:.15},{id:"c231",name:"C-231 NLT4",milestones:[],dcrs:[],registers:[],formAmounts:[],taxRate:.15}];function a({children:e}){let[t,r]=(0,o.useState)(s),a=(e,t)=>e*(1+t),d=(e,t,r,i,o)=>{console.log(`Synchronizing to registers: ${e}, ${t}, ${r}, ${i}`)},u=(e,t,r)=>{console.log(`Removing from registers: ${e}, ${t}, ${r}`)},c=(e,t,r)=>{console.log(`Synchronizing to forms: ${e}, ${t}`)};return i.jsx(n.Provider,{value:{projects:t,updateMilestonePrice:(e,t,i)=>{r(r=>r.map(r=>{if(r.id!==e)return r;let o=r.milestones.map(e=>{if(e.id===t){let t={...e,prixUnitaireFerme:i,prixFermeTotal:i};return e.facture&&(d(r.id,"milestone",e.id,i,r.taxRate),c(r.id,i,r.taxRate)),t}return e});return{...r,milestones:o}}))},updateDCRPrice:(e,t,i)=>{r(r=>r.map(r=>{if(r.id!==e)return r;let o=r.dcrs.map(e=>{if(e.id===t){let t={...e,prixUnitaireFerme:i,prixFermeTotal:i};return e.facture&&(d(r.id,"dcr",e.id,i,r.taxRate),c(r.id,i,r.taxRate)),t}return e});return{...r,dcrs:o}}))},toggleMilestoneFacture:(e,t)=>{r(r=>r.map(r=>{if(r.id!==e)return r;let i=r.milestones.map(e=>{if(e.id===t){let t=!e.facture,i={...e,facture:t};return t?d(r.id,"milestone",e.id,e.prixUnitaireFerme,r.taxRate):u(r.id,"milestone",e.id),c(r.id,e.prixUnitaireFerme,r.taxRate),i}return e});return{...r,milestones:i}}))},toggleDCRFacture:(e,t)=>{r(r=>r.map(r=>{if(r.id!==e)return r;let i=r.dcrs.map(e=>{if(e.id===t){let t=!e.facture,i={...e,facture:t};return t?d(r.id,"dcr",e.id,e.prixUnitaireFerme,r.taxRate):u(r.id,"dcr",e.id),c(r.id,e.prixUnitaireFerme,r.taxRate),i}return e});return{...r,dcrs:i}}))},calculateTTC:a,getTotalsByProject:e=>{let r=t.find(t=>t.id===e);if(!r)return{totalMilestonesHT:0,totalMilestonesTTC:0,totalDCRsHT:0,totalDCRsTTC:0,totalFactureHT:0,totalFactureTTC:0,totalContractHT:0,totalContractTTC:0};let i=r.milestones.reduce((e,t)=>e+t.prixFermeTotal,0),o=r.dcrs.reduce((e,t)=>e+t.prixFermeTotal,0),n=r.milestones.filter(e=>e.facture).reduce((e,t)=>e+t.prixFermeTotal,0)+r.dcrs.filter(e=>e.facture).reduce((e,t)=>e+t.prixFermeTotal,0),s=i+o;return{totalMilestonesHT:i,totalMilestonesTTC:a(i,r.taxRate),totalDCRsHT:o,totalDCRsTTC:a(o,r.taxRate),totalFactureHT:n,totalFactureTTC:a(n,r.taxRate),totalContractHT:s,totalContractTTC:a(s,r.taxRate)}},getFormAmountsByProject:e=>{let r=t.find(t=>t.id===e);return r?.formAmounts||[]}},children:e})}function d(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("usePriceSync must be used within a PriceSyncProvider");return e}},3314:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v,metadata:()=>f});var i=r(9510),o=r(5384),n=r.n(o);r(5023);var s=r(8570);let a=(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\AppContext.tsx`),{__esModule:d,$$typeof:u}=a;a.default;let c=(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\AppContext.tsx#AppProvider`);(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\AppContext.tsx#useAppContext`);let l=(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\PriceSyncContext.tsx`),{__esModule:m,$$typeof:x}=l;l.default;let p=(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\PriceSyncContext.tsx#PriceSyncProvider`);(0,s.createProxy)(String.raw`C:\Nouveau dossier\src\contexts\PriceSyncContext.tsx#usePriceSync`);let f={title:"Ocean Factory - Syst\xe8me de Facturation",description:"Application de gestion de facturation pour Ocean Factory"};function v({children:e}){return i.jsx("html",{lang:"fr",children:i.jsx("body",{className:n().className,children:i.jsx(c,{children:i.jsx(p,{children:i.jsx("div",{className:"min-h-screen bg-gray-50",children:e})})})})})}},5023:()=>{}};